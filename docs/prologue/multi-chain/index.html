<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.ae41b6d53c75cca9b5ef58b816481b71d1bf383ff16d2f9e18e9f4431f5f6434009bb13f463f341ac741a840ca2549b6f97669e4c5a4a98e08f093eaf1a8af37.css integrity="sha512-rkG21Tx1zKm171i4FkgbcdG/OD/xbS+eGOn0Qx9fZDQAm7E/Rj80GsdBqEDKJUm2+XZp5MWkqY4I8JPq8aivNw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Multi chain - TrueBlocks</title><meta name=description content="Instructions for accessing multiple chains from chifra"><link rel=canonical href=https://trueblocks.io><meta name=twitter:card content="https://trueblocks.io/trueblocks.png"><meta name=twitter:image content="https://trueblocks.io/trueblocks.png"><meta name=twitter:title content="Multi chain"><meta name=twitter:description content="Instructions for accessing multiple chains from chifra"><meta name=twitter:site content="@TrueBlocks"><meta name=twitter:creator content="@TrueBlocks"><meta property="og:title" content="Multi chain"><meta property="og:description" content="Instructions for accessing multiple chains from chifra"><meta property="og:type" content="article"><meta property="og:url" content="/docs/prologue/multi-chain/"><meta property="og:image" content="/trueblocks.png"><meta property="article:published_time" content="2021-10-04T10:03:01-03:00"><meta property="article:modified_time" content="2022-06-02T03:56:16-04:00"><meta property="og:site_name" content="TrueBlocks"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/trueblocks.io"},{"@type":"ListItem","position":3,"name":"Docs","item":"https:\/\/trueblocks.io\/docs\/"},{"@type":"ListItem","position":4,"name":"Prologue","item":"https:\/\/trueblocks.io\/docs\/prologue\/"},{"@type":"ListItem","position":5,"name":"Multi Chain","item":"https:\/\/trueblocks.io\/docs\/prologue\/multi-chain\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},i=t.createElement(n),i.async=1,i.src=s,a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a)})(window,document,"script","https://assets.mailerlite.com/js/universal.js","ml"),ml("account","529446")</script></head><body class="docs single"><div class="header-bar fixed-top"></div><script>(localStorage.getItem("theme")==="dark"||localStorage.getItem("theme")===null)&&document.body.classList.add("dark")</script><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=/>TrueBlocks</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/trueblocks><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://discord.com/invite/kAFcZH2x7K><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="simple icon-discord"><path d="M20.317 4.3698a19.7913 19.7913.0 00-4.8851-1.5152.0741.0741.0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868.0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077.0 00-.0785-.037 19.7363 19.7363.0 00-4.8852 1.515.0699.0699.0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824.0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777.0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076.0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077.0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743.0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614.0a.0739.0739.0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077.0 01-.0066.1276 12.2986 12.2986.0 01-1.873.8914.0766.0766.0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076.0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077.0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061.0 00-.0312-.0286zM8.02 15.3312c-1.1825.0-2.1569-1.0857-2.1569-2.419.0-1.3332.9555-2.4189 2.157-2.4189 1.2108.0 2.1757 1.0952 2.1568 2.419.0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748.0c-1.1825.0-2.1569-1.0857-2.1569-2.419.0-1.3332.9554-2.4189 2.1569-2.4189 1.2108.0 2.1757 1.0952 2.1568 2.419.0 1.3332-.946 2.4189-2.1568 2.4189z"/></svg><span class="ms-2 visually-hidden">Discord</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/trueblocks/trueblocks-core><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li><li class=nav-item><a class=nav-link href=/api>API<span class="ms-2 visually-hidden">API</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=/docs/>Introduction</a></li><li class=nav-item><a class=nav-link href=/chifra/introduction>Chifra</a></li><li class=nav-item><a class=nav-link href=/data-model/intro>Models</a></li><li class=nav-item><a class=nav-link href=/sdks/introduction>SDKs</a></li><li class=nav-item><a class=nav-link href=/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=/papers/>Papers</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-4M60J4ZGSQ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4M60J4ZGSQ",{anonymize_ip:!1})}</script></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Prologue</h3><ul class=list-unstyled><li><a class="docs-link active" href=/docs/>Problem Statement</a></li><li><a class=docs-link href=/docs/prologue/about-trueblocks/>About TrueBlocks</a></li><li><a class=docs-link href=/docs/prologue/design-philosophy/>Design philosophy</a></li><li><a class=docs-link href=/docs/prologue/do-i-need-a-node/>Do I need a node?</a></li><li><a class="docs-link active" href=/docs/prologue/multi-chain/>Multi chain</a></li></ul><h3>Installation</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/install/install-core/>Install core</a></li><li><a class=docs-link href=/docs/install/build-unchained-index/>Unchained Index</a></li><li><a class=docs-link href=/docs/install/install-explorer/>Install explorer</a></li><li><a class=docs-link href=/docs/install/install-troubleshooting/>Troubleshooting</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#accessing-multiple-chains>Accessing multiple chains</a></li><li><a href=#how-can-this-possibly-work>How can this possibly work?</a></li><li><a href=#support-for-default-chains>Support for default chains</a></li><li><a href=#the-default-chain>The Default Chain</a></li><li><a href=#adding-your-own-chain>Adding your own chain</a></li><li><a href=#what-doesnt-work>What Doesn&rsquo;t Work?</a></li></ul></nav></div></nav><main class="docs-content col-lg-12 col-xl-9"><h1>Multi chain</h1><p class=lead>Instructions for accessing multiple chains from chifra.</p><h2 id=accessing-multiple-chains>Accessing multiple chains<a href=#accessing-multiple-chains class=anchor aria-hidden=true>#</a></h2><p>As of version 0.25.0-alpha, TrueBlocks supports accessing data from any EVM-based blockchain that supports the requisite RPC endpoints. This includes most blockchains we know of.</p><p>In order to use this new feature, you have to do almost nothing. All you have to do is add <code>--chain &lt;chainname></code> to any chifra command (except one or two as detailed below).</p><p>For example:</p><table><thead><tr><th>Command</th><th>Notes</th></tr></thead><tbody><tr><td>chifra blocks 12</td><td>Default chain is mainnet</td></tr><tr><td>chifra blocks 12 &ndash;chain mainnet</td><td>Same as default</td></tr><tr><td>chifra blocks 12 &ndash;chain gnosis</td><td>Block 12 from gnosis chain</td></tr></tbody></table><h2 id=how-can-this-possibly-work>How can this possibly work?<a href=#how-can-this-possibly-work class=anchor aria-hidden=true>#</a></h2><p>To be perfectly honest, it can&rsquo;t &ndash; without you.</p><p>You must be running your own RPC endpoints. We built TrueBlocks in this way on purpose &ndash; TrueBlocks is not a service. It&rsquo;s a locally running tool. We did this because doing otherwise promotes a world of highly centralized solutions&ndash;something we are trying very hard to avoid.</p><p>Once you do start to run your own node software, you will be very glad you did. While you can use publicly available endpoints such as Infura, you will find that you will almost certainly be rate-limited. This is not true if you run your own node.</p><h2 id=support-for-default-chains>Support for default chains<a href=#support-for-default-chains class=anchor aria-hidden=true>#</a></h2><p>Notwithstanding the above, we&rsquo;ve provided default configurations for the following eight (8) EVM compatible chains:</p><pre><code>mainnet, rinkeby, ropsten, goerli, kovan,
gnosis, optimism, polygon
</code></pre><p>In each case (except <code>mainnet</code>) we point to public RPC endpoints. It is likely that you will be rate-limited if you use these options. Providing your own endpoints is much preferred.</p><h2 id=the-default-chain>The Default Chain<a href=#the-default-chain class=anchor aria-hidden=true>#</a></h2><p>A new configuration item has been added to the <code>trueBlocks.toml</code> file under the <code>[settings]</code> section. That item is called <code>defaultChain</code>. The initial value is <code>mainnet</code>. After installing version 0.25.0-alpha any <code>chifra</code> command that is run without the <code>--chain</code> option will default to <code>defaultChain</code>. You may modify this and subsequently remove the <code>--chain</code> option if you wish to default to a different chain.</p><h2 id=adding-your-own-chain>Adding your own chain<a href=#adding-your-own-chain class=anchor aria-hidden=true>#</a></h2><p>To configure a chain or add a new one, you must edit an entry for the <code>chains</code> array in the <code>trueBlocks.toml</code> file.</p><p>Once added, you may use your new chain entry by naming it to the <code>--chain</code> option:</p><pre><code>chifra &lt;cmd&gt; &lt;options&gt; --chain &lt;chain-name&gt;
</code></pre><p>Below is one of the pre-configured sections for Ethereum Mainnet. Following that is a description of fields making up a chain configuration. Note that the section header of the chain must start with <code>chains.</code> and becomes the name of the chain.</p><pre><code>[chains.mainnet]
chainId = &quot;1&quot;
rpcProvider = &quot;http://localhost:8545&quot;
remoteExplorer = &quot;https://etherscan.io&quot;
apiProvider = &quot;http://localhost:8080&quot;
localExplorer = &quot;http://localhost:1234&quot;
pinGateway = &quot;https://ipfs.unchainedindex.io/ipfs/&quot;
symbol = &quot;ETH&quot;
</code></pre><p>Your entry must contain the following fields (some of which are optional):</p><table><thead><tr><th>Field Name</th><th>required</th><th>Description</th></tr></thead><tbody><tr><td>chainId</td><td>yes</td><td>The chain id as returned by <code>eth_chainId</code></td></tr><tr><td>rpcProvider</td><td>yes</td><td>The RPC provider for the chain. Highly preferred this is local and dedicated.</td></tr><tr><td>remoteExplorer</td><td></td><td>A remote blockchain explorer for the chain (such as EtherScan). Used by <code>chifra explore</code></td></tr><tr><td>pinGateway</td><td></td><td>Only needed if you are running <code>chifra scrape --pin</code>. Note you will need your own Pinata endpoint.</td></tr></tbody></table><p>The following three fields are only needed if you&rsquo;re also running the TrueBlocks Explorer:</p><table><thead><tr><th>Field Name</th><th>required</th><th>Description</th></tr></thead><tbody><tr><td>apiProvider</td><td></td><td>The URL given by <code>chifra serve</code> and where the explorer will get its data.</td></tr><tr><td>localExplorer</td><td></td><td>The URL of the local explorer application. Where <code>chifra explore --local</code> will open.</td></tr><tr><td>symbol</td><td></td><td>The symbol of the native token on the chain in question. <code>ETH</code> for mainnet, <code>xDAI</code> for <code>gnosis</code> for example.</td></tr></tbody></table><h2 id=what-doesnt-work>What Doesn&rsquo;t Work?<a href=#what-doesnt-work class=anchor aria-hidden=true>#</a></h2><p>There are two things that currently do not work with Multi-Chain:</p><ol><li><p>The command <code>chifra init</code> only works with Ethereum Mainnet. While we will never provide an index for every chain (we must rely on our user base to do that and hopefully share it), we will, in the future be supporting some chains, notably the gnosis chain.</p></li><li><p>Pricing using UniSwap only works on the mainnet. In the future, once more standardization appears relative to pricing on multiple chains, this choice will be revisited.</p></li></ol><p class=edit-page><a href=https://github.com/TrueBlocks/trueblocks-docs/blob/master/content/docs/prologue/multi-chain.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=/docs/prologue/do-i-need-a-node/><div class="card my-1"><div class="card-body py-2">&larr; Do I need a node?</div></div></a><a class=ms-auto href=/docs/install/install-troubleshooting/><div class="card my-1"><div class="card-body py-2">Troubleshooting &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://github.com/TrueBlocks/trueblocks-docs>Improve docs</a></li><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/js/highlight.min.3b19329373d4ec59cace38e4633f4751ffbcc08c275774a51ac58084565a01160e3fc5e091f469b7988d38bcedb195d2ccf817925f599ec7be02d3cc47791629.js integrity="sha512-Oxkyk3PU7FnKzjjkYz9HUf+8wIwnV3SlGsWAhFZaARYOP8XgkfRpt5iNOLztsZXSzPgXkl9Znse+AtPMR3kWKQ==" crossorigin=anonymous defer></script>
<script src=/main.min.19596f4724d5f03ddb5edaddd82f585c4cdc5648de6ab5bcc6055f7160f6f7e8b22af1a558aebcd27c799c7b0488434cc695ca5c3d84c13f35d3a92a38cbfbd3.js integrity="sha512-GVlvRyTV8D3bXtrd2C9YXEzcVkjearW8xgVfcWD29+iyKvGlWK680nx5nHsEiENMxpXKXD2EwT8106kqOMv70w==" crossorigin=anonymous defer></script>
<script src=/index.min.81d75d20bf890f1201685edc3ad2197fa23ef59469346ca5d28375f70fde964bf3f1ac696dd24cf860eb9b8e6f1b9e75301861e6f79aef404d4bbdc4d7dd7146.js integrity="sha512-gdddIL+JDxIBaF7cOtIZf6I+9ZRpNGyl0oN19w/elkvz8axpbdJM+GDrm45vG551MBhh5vea70BNS73E191xRg==" crossorigin=anonymous defer></script></body></html>